WW.Data.Units = {
  dataset: {
    infantry: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 0, 0, 16, 16),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 0, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 0, 0, 16, 16),
      }
    },
    mech: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 0, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 0, 16, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 0, 16, 16, 18),
      }
    },
    apc: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 32, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 32, 16, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 32, 16, 16, 18),
      }
    },
    recon: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 32, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 32, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 32, 0, 16, 18),
      }
    },
    tank: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 16, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 16, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 16, 16, 16, 18),
      }
    },
    mediumTank: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 16, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 16, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 16, 0, 16, 18),
      }
    },
    neoTank: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 144, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 144, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 144, 0, 16, 18),
      }
    },
    antiAir: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 64, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 64, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 64, 0, 16, 18),
      }
    },
    artillery: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 48, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 48, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 48, 0, 16, 18),
      }
    },
    rockets: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 48, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 48, 16, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 48, 16, 16, 18),
      }
    },
    missiles: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 64, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 64, 16, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 64, 16, 16, 18),
      }
    },
    fighter: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 80, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 80, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 80, 0, 16, 18),
      }
    },
    bomber: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 80, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 80, 16, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 80, 16, 16, 18),
      }
    },
    bCopter: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 96, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 96, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 96, 0, 16, 18),
      }
    },
    tCopter: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 96, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 96, 16, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 96, 16, 16, 18),
      }
    },
    battleship: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 112, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 112, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 112, 0, 16, 18),
      }
    },
    cruiser: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 112, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 112, 16, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 112, 16, 16, 18),
      }
    },
    submarine: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 128, 16, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 128, 16, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 128, 16, 16, 18),
      }
    },
    lander: {
      img: {
        red: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/red-units.png', 128, 0, 16, 18),
        blue: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/blue-units.png', 0, 0, 16, 18),
        green: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/green-units.png', 128, 0, 16, 18),
        yellow: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/yellow-units.png', 0, 0, 16, 18),
        black: new WW.Data.ImageCoord(WW.Config.ROOT + 'assets/sprites/black-units.png', 128, 0, 16, 18),
      }
    },
  },
  getDamage: function(attacker, defender){
    let chart = null;
    // Get which DamageChart use
    if(defender instanceof this.Infantry){ chart = attacker.damageChart.infantry; }
    if(defender instanceof this.Mech){ chart = attacker.damageChart.mech; }
    if(defender instanceof this.Recon){ chart = attacker.damageChart.recon; }
    if(defender instanceof this.Tank){ chart = attacker.damageChart.tank; }
    if(defender instanceof this.MediumTank){ chart = attacker.damageChart.mediumTank; }
    if(defender instanceof this.NeoTank){ chart = attacker.damageChart.neoTank; }
    if(defender instanceof this.APC){ chart = attacker.damageChart.apc; }
    if(defender instanceof this.Artillery){ chart = attacker.damageChart.artillery; }
    if(defender instanceof this.Rockets){ chart = attacker.damageChart.rockets; }
    if(defender instanceof this.AntiAir){ chart = attacker.damageChart.antiAir; }
    if(defender instanceof this.Missiles){ chart = attacker.damageChart.missiles; }
    if(defender instanceof this.Fighter){ chart = attacker.damageChart.fighter; }
    if(defender instanceof this.Bomber){ chart = attacker.damageChart.bomber; }
    if(defender instanceof this.BCopter){ chart = attacker.damageChart.bCopter; }
    if(defender instanceof this.TCopter){ chart = attacker.damageChart.tCopter; }
    if(defender instanceof this.Battleship){ chart = attacker.damageChart.battleship; }
    if(defender instanceof this.Cruiser){ chart = attacker.damageChart.cruiser; }
    if(defender instanceof this.Lander){ chart = attacker.damageChart.lander; }
    if(defender instanceof this.Submarine){ chart = attacker.damageChart.submarine; }

    // Get the used ammo
    let baseDamage = 0;
    if(chart){
      if(attacker.ammo && chart.damageW1){
        baseDamage = chart.damageW1;
      }else{
        baseDamage = chart.damageW2;
      }
    }

    // Get the damage the attacker does to the defender
    let luck = Math.floor(Math.random()*9);
    let map = WW.Components.getCurrentMap();
    let defenseProtection = WW.Data.Tiles.getTileById(map.grid.grid[defender.position.y][defender.position.y]).props.defense;
    let totalDamage = (baseDamage + luck) * attacker.health/100 * ((200 - (100 + defenseProtection*defender.health/10))/100);
    return totalDamage;
  }
};